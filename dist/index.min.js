"use strict";function __rest(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)a.indexOf(r[n])<0&&(t[r[n]]=e[r[n]])}return t}function getModuleKeys(e){return[...Object.keys(e),...Object.getOwnPropertyNames(Object.getPrototypeOf(e))]}function getCallbackName({moduleName:e,funcName:a,requestID:t}){return`${e}_${a}Callback${null!==t?`_${t}`:""}`}function promisifyCallback(e,a){var{funcToWrap:t}=a;const r=getCallbackName(__rest(a,["funcToWrap"]));return new Promise(a=>{e[r]=(e=>a(e)),t()})}function setUpGlobalCallback(e,{callbackNameFunc:a}){const t=a(null);e[t]||(e[t]=(t=>{var{requestID:r}=t,n=__rest(t,["requestID"]);const o=a(r);e[o]&&e[o](n),delete e[o]}))}function wrapAndroidModule(e,a,t){const r=getModuleKeys(t).filter(e=>"function"==typeof t[e]).map(r=>{let n=0;const o=e=>getCallbackName({moduleName:a,requestID:e,funcName:r});return setUpGlobalCallback(e,{callbackNameFunc:o}),{[r]:(...l)=>{const u=`${n}`;return n+=1,promisifyCallback(e,{moduleName:a,requestID:u,funcName:r,funcToWrap:t[r].bind(t,u,...l,o(null))})}}}).reduce((e,a)=>Object.assign({},e,a),{});return{invoke:(e,...a)=>r[e](...a.map(({paramValue:e})=>e))}}function wrapIOSModule(e,a,t){const r={};return{invoke:(n,...o)=>{const l=(r[n]||-1)+1;r[n]=l;const u=e=>getCallbackName({moduleName:a,requestID:e,funcName:n});setUpGlobalCallback(e,{callbackNameFunc:u});const c={method:n,parameters:Object.assign({},o.map(({paramName:e,paramValue:a})=>({[e]:a})).reduce((e,a)=>Object.assign({},e,a),{}),{requestID:l}),callbackName:u(null)};return promisifyCallback(e,{moduleName:a,funcName:n,funcToWrap:t.postMessage.bind(t,c),requestID:`${l}`})}}}function createMethodParameter(e,a){return{paramName:e,paramValue:a}}function wrapModule(e,a){if(e[a]){const t=e[a],r=wrapAndroidModule(window,a,t);e[a]=r}else if(e.webkit&&e.webkit.messageHandlers&&e.webkit.messageHandlers[a]){const t=wrapIOSModule(e,a,e.webkit.messageHandlers[a]);e[a]=t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMethodParameter=createMethodParameter,exports.wrapAndroidModule=wrapAndroidModule,exports.wrapIOSModule=wrapIOSModule,exports.wrapModule=wrapModule;